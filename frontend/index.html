<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agentic Task Management System</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background-color: #fafafa;
        }
        
        .section h2 {
            color: #555;
            margin-top: 0;
            border-bottom: 2px solid #007bff;
            padding-bottom: 5px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        input, textarea, button, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        textarea {
            height: 100px;
            resize: vertical;
        }
        
        button {
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        button:disabled {
            background-color: #6c757d;
            cursor: not-allowed;
        }
        
        .status-box {
            background-color: #e9f7ef;
            border: 1px solid #d4edda;
            border-radius: 4px;
            padding: 15px;
            margin-top: 10px;
        }
        
        .error-box {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 4px;
            padding: 15px;
            margin-top: 10px;
            color: #721c24;
        }
        
        .session-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .task-item {
            background-color: white;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .task-status {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-pending { background-color: #fff3cd; color: #856404; }
        .status-in_progress { background-color: #cce5ff; color: #004085; }
        .status-completed { background-color: #d4edda; color: #155724; }
        .status-failed { background-color: #f8d7da; color: #721c24; }
        
        .agents-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .agent-card {
            background-color: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 15px;
        }
        
        .agent-card h4 {
            margin-top: 0;
            color: #007bff;
        }
        
        .progress-section {
            margin-bottom: 20px;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            margin-bottom: 10px;
        }
        
        .progress-segment {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .progress-legend {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            font-size: 12px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .result-content {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            margin-top: 5px;
            border-left: 4px solid #007bff;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            white-space: pre-wrap;
        }
        
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            background-color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤– Agentic Task Management System</h1>
        
        <div id="sessionInfo" class="session-info" style="display: none;">
            ã‚»ãƒƒã‚·ãƒ§ãƒ³ID: <span id="currentSessionId"></span>
        </div>
        
        <div class="section">
            <h2>ğŸ“‹ ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†</h2>
            <button onclick="createSession()">æ–°ã—ã„ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆ</button>
            <div id="sessionStatus"></div>
        </div>
        
        <div class="section">
            <h2>ğŸ¯ ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœç™»éŒ²</h2>
            <div class="form-group">
                <label for="useCaseSelect">ã‚µãƒ³ãƒ—ãƒ«ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹é¸æŠ:</label>
                <select id="useCaseSelect" onchange="loadUseCase()">
                    <option value="">-- ã‚«ã‚¹ã‚¿ãƒ å…¥åŠ› --</option>
                    <option value="market_research">å¸‚å ´èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</option>
                    <option value="data_analysis">ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</option>
                    <option value="project_management">è¤‡åˆçš„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†</option>
                </select>
            </div>
            <div class="form-group">
                <label for="hearingResult">ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœ:</label>
                <textarea id="hearingResult" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¦æœ›ã‚„è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
            </div>
            <button onclick="saveHearing()">ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœã‚’ä¿å­˜</button>
            <div id="hearingStatus"></div>
        </div>
        
        <div class="section">
            <h2>ğŸ“ ã‚¿ã‚¹ã‚¯ãƒ—ãƒ©ãƒ³ä½œæˆ</h2>
            <div class="form-group">
                <label for="userInstruction">ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤º:</label>
                <textarea id="userInstruction" placeholder="å®Ÿè¡Œã—ãŸã„ã‚¿ã‚¹ã‚¯ã®å†…å®¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..."></textarea>
            </div>
            <button onclick="createTaskPlan()">ã‚¿ã‚¹ã‚¯ãƒ—ãƒ©ãƒ³ã‚’ä½œæˆ</button>
            <div id="planStatus"></div>
        </div>
        
        <div class="section">
            <h2>âš¡ ã‚¿ã‚¹ã‚¯å®Ÿè¡Œãƒ»ç›£è¦–</h2>
            <button onclick="executeTaskPlan()">ã‚¿ã‚¹ã‚¯ãƒ—ãƒ©ãƒ³ã‚’å®Ÿè¡Œ</button>
            <button onclick="getTaskStatus()">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’æ›´æ–°</button>
            <div id="executionStatus"></div>
            <div id="taskList"></div>
        </div>
        
        <div class="section">
            <h2>ğŸ”§ åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ</h2>
            <button onclick="getAvailableAgents()">ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä¸€è¦§ã‚’å–å¾—</button>
            <div id="agentsList"></div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:8000';
        let currentSessionId = null;

        async function apiCall(endpoint, method = 'GET', data = null) {
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                    }
                };
                
                if (data) {
                    options.body = JSON.stringify(data);
                }
                
                const response = await fetch(`${API_BASE_URL}${endpoint}`, options);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                return await response.json();
            } catch (error) {
                console.error('API call error:', error);
                throw error;
            }
        }

        function showStatus(elementId, message, isError = false) {
            const element = document.getElementById(elementId);
            element.innerHTML = `<div class="${isError ? 'error-box' : 'status-box'}">${message}</div>`;
        }

        function updateSessionInfo() {
            const sessionInfo = document.getElementById('sessionInfo');
            const sessionIdSpan = document.getElementById('currentSessionId');
            
            if (currentSessionId) {
                sessionIdSpan.textContent = currentSessionId;
                sessionInfo.style.display = 'block';
            } else {
                sessionInfo.style.display = 'none';
            }
        }

        async function createSession() {
            try {
                const result = await apiCall('/api/sessions', 'POST');
                currentSessionId = result.session_id;
                updateSessionInfo();
                showStatus('sessionStatus', `ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¾ã—ãŸ: ${currentSessionId}`);
            } catch (error) {
                showStatus('sessionStatus', `ã‚»ãƒƒã‚·ãƒ§ãƒ³ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        async function saveHearing() {
            if (!currentSessionId) {
                showStatus('hearingStatus', 'ã¾ãšã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„', true);
                return;
            }
            
            const hearingResult = document.getElementById('hearingResult').value;
            if (!hearingResult.trim()) {
                showStatus('hearingStatus', 'ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', true);
                return;
            }
            
            try {
                const result = await apiCall('/api/hearing', 'POST', {
                    session_id: currentSessionId,
                    hearing_result: hearingResult
                });
                showStatus('hearingStatus', result.message);
            } catch (error) {
                showStatus('hearingStatus', `ãƒ’ã‚¢ãƒªãƒ³ã‚°ä¿å­˜ã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        async function createTaskPlan() {
            if (!currentSessionId) {
                showStatus('planStatus', 'ã¾ãšã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„', true);
                return;
            }
            
            const userInstruction = document.getElementById('userInstruction').value;
            if (!userInstruction.trim()) {
                showStatus('planStatus', 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', true);
                return;
            }
            
            try {
                const result = await apiCall('/api/tasks/create', 'POST', {
                    user_instruction: userInstruction,
                    session_id: currentSessionId
                });
                showStatus('planStatus', result.message);
                
                // ã‚¿ã‚¹ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è‡ªå‹•æ›´æ–°
                await getTaskStatus();
            } catch (error) {
                showStatus('planStatus', `ã‚¿ã‚¹ã‚¯ãƒ—ãƒ©ãƒ³ä½œæˆã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        async function executeTaskPlan() {
            if (!currentSessionId) {
                showStatus('executionStatus', 'ã¾ãšã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„', true);
                return;
            }
            
            try {
                const result = await apiCall(`/api/tasks/execute/${currentSessionId}`, 'POST');
                showStatus('executionStatus', result.message);
                
                // å®Ÿè¡Œå¾Œã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è‡ªå‹•æ›´æ–°é–‹å§‹
                startStatusUpdates();
                setTimeout(() => getTaskStatus(), 1000);
            } catch (error) {
                showStatus('executionStatus', `ã‚¿ã‚¹ã‚¯å®Ÿè¡Œã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        async function getTaskStatus() {
            if (!currentSessionId) {
                showStatus('taskList', 'ã¾ãšã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„', true);
                return;
            }
            
            try {
                const result = await apiCall(`/api/tasks/status/${currentSessionId}`);
                displayTaskStatus(result);
            } catch (error) {
                showStatus('taskList', `ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        function displayTaskStatus(statusData) {
            const taskList = document.getElementById('taskList');
            
            if (!statusData.task_data) {
                taskList.innerHTML = '<div class="status-box">ã‚¿ã‚¹ã‚¯ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“</div>';
                return;
            }
            
            let html = '<h3>ğŸ“Š ã‚¿ã‚¹ã‚¯ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h3>';
            
            // å®Ÿè¡Œé€²æ—ã®å¯è¦–åŒ–
            html += '<div class="progress-section">';
            html += '<h4>ğŸ”„ å®Ÿè¡Œé€²æ—</h4>';
            
            const allTasks = [];
            if (statusData.task_data.daily_tasks) {
                allTasks.push(...statusData.task_data.daily_tasks);
            }
            if (statusData.task_data.info_references) {
                allTasks.push(...statusData.task_data.info_references);
            }
            
            const statusCounts = { pending: 0, in_progress: 0, completed: 0, failed: 0 };
            allTasks.forEach(task => {
                statusCounts[task.status] = (statusCounts[task.status] || 0) + 1;
            });
            
            const totalTasks = allTasks.length;
            if (totalTasks > 0) {
                html += `
                    <div class="progress-bar">
                        <div class="progress-segment status-completed" style="width: ${(statusCounts.completed / totalTasks) * 100}%"></div>
                        <div class="progress-segment status-in_progress" style="width: ${(statusCounts.in_progress / totalTasks) * 100}%"></div>
                        <div class="progress-segment status-pending" style="width: ${(statusCounts.pending / totalTasks) * 100}%"></div>
                        <div class="progress-segment status-failed" style="width: ${(statusCounts.failed / totalTasks) * 100}%"></div>
                    </div>
                    <div class="progress-legend">
                        <span class="legend-item">âœ… å®Œäº†: ${statusCounts.completed}</span>
                        <span class="legend-item">â³ å®Ÿè¡Œä¸­: ${statusCounts.in_progress}</span>
                        <span class="legend-item">â¸ï¸ å¾…æ©Ÿä¸­: ${statusCounts.pending}</span>
                        <span class="legend-item">âŒ å¤±æ•—: ${statusCounts.failed}</span>
                    </div>
                `;
            }
            html += '</div>';
            
            // æ—¥æ¬¡ã‚¿ã‚¹ã‚¯
            if (statusData.task_data.daily_tasks && statusData.task_data.daily_tasks.length > 0) {
                html += '<h4>ğŸ“… æ—¥æ¬¡ã‚¿ã‚¹ã‚¯</h4>';
                statusData.task_data.daily_tasks.forEach(task => {
                    html += `
                        <div class="task-item">
                            <strong>ID:</strong> ${task.id}<br>
                            <strong>ã‚¿ã‚¹ã‚¯:</strong> ${task.task}<br>
                            <strong>ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:</strong> ${task.agent}<br>
                            <strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> <span class="task-status status-${task.status}">${task.status}</span><br>
                            <strong>ã‚¿ã‚°:</strong> ${task.tags ? task.tags.join(', ') : 'ãªã—'}<br>
                            ${task.need && task.need.length > 0 ? `<strong>ä¾å­˜é–¢ä¿‚:</strong> ${task.need.join(', ')}<br>` : ''}
                            ${task.result ? `<strong>çµæœ:</strong> <div class="result-content">${task.result}</div>` : ''}
                        </div>
                    `;
                });
            }
            
            // æƒ…å ±å‚ç…§ã‚¿ã‚¹ã‚¯
            if (statusData.task_data.info_references && statusData.task_data.info_references.length > 0) {
                html += '<h4>ğŸ“š æƒ…å ±å‚ç…§ã‚¿ã‚¹ã‚¯</h4>';
                statusData.task_data.info_references.forEach(task => {
                    html += `
                        <div class="task-item">
                            <strong>ID:</strong> ${task.id}<br>
                            <strong>ã‚¿ã‚¹ã‚¯:</strong> ${task.task}<br>
                            <strong>ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ:</strong> ${task.agent}<br>
                            <strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> <span class="task-status status-${task.status}">${task.status}</span><br>
                            <strong>å‚ç…§ã‚¿ã‚¤ãƒ—:</strong> ${task.reference_type}<br>
                            <strong>ã‚¿ã‚°:</strong> ${task.tags ? task.tags.join(', ') : 'ãªã—'}<br>
                            ${task.need && task.need.length > 0 ? `<strong>ä¾å­˜é–¢ä¿‚:</strong> ${task.need.join(', ')}<br>` : ''}
                            ${task.result ? `<strong>çµæœ:</strong> <div class="result-content">${task.result}</div>` : ''}
                        </div>
                    `;
                });
            }
            
            taskList.innerHTML = html;
        }

        async function getAvailableAgents() {
            try {
                const result = await apiCall('/api/agents');
                displayAgents(result);
            } catch (error) {
                showStatus('agentsList', `ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`, true);
            }
        }

        function displayAgents(agentsData) {
            const agentsList = document.getElementById('agentsList');
            
            let html = '<div class="agents-list">';
            
            agentsData.agents.forEach(agentKey => {
                const description = agentsData.descriptions[agentKey] || 'èª¬æ˜ãªã—';
                html += `
                    <div class="agent-card">
                        <h4>${agentKey}</h4>
                        <p>${description}</p>
                    </div>
                `;
            });
            
            html += '</div>';
            agentsList.innerHTML = html;
        }

        // ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿
        const useCaseData = {
            market_research: {
                hearing: `# ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æœ›ãƒ’ã‚¢ãƒªãƒ³ã‚°çµæœ

## åŸºæœ¬æƒ…å ±
- æ‹…å½“è€…: ä¼ç”»éƒ¨ ç”°ä¸­æ§˜
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ: ç”ŸæˆAIäº‹æ¥­å‚å…¥æ¤œè¨
- æœŸé™: 2é€±é–“å¾Œ
- ç”¨é€”: çµŒå–¶ä¼šè­°ã§ã®äº‹æ¥­ææ¡ˆ

## èª¿æŸ»è¦ä»¶
- **å¯¾è±¡é ˜åŸŸ**: ç”ŸæˆAIæŠ€è¡“ï¼ˆç‰¹ã«ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«AIï¼‰
- **èª¿æŸ»ç¯„å›²**: 
  - æŠ€è¡“å‹•å‘ï¼ˆæœ€æ–°ã®ç ”ç©¶é–‹ç™ºçŠ¶æ³ï¼‰
  - å¸‚å ´å‹•å‘ï¼ˆå¸‚å ´è¦æ¨¡ã€æˆé•·äºˆæ¸¬ï¼‰
  - ç«¶åˆä»–ç¤¾åˆ†æï¼ˆä¸»è¦ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼3-5ç¤¾ï¼‰
  - å‚å…¥éšœå£ã¨æ©Ÿä¼šåˆ†æ
- **æˆæœç‰©**: 
  - PowerPointç”¨ã®ã‚µãƒãƒªãƒ¼ï¼ˆ10-15ãƒšãƒ¼ã‚¸ï¼‰
  - è©³ç´°èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆï¼ˆ30-50ãƒšãƒ¼ã‚¸ï¼‰
  - ãƒ‡ãƒ¼ã‚¿è¡¨ãƒ»ã‚°ãƒ©ãƒ•é›†

## é€²æ—ç®¡ç†è¦ä»¶
- é€±æ¬¡é€²æ—å ±å‘Šï¼ˆæ¯é€±é‡‘æ›œæ—¥ï¼‰
- ä¸­é–“ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼ˆ1é€±é–“å¾Œï¼‰
- æœ€çµ‚ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆæå‡º2æ—¥å‰ï¼‰

## å‚è€ƒæƒ…å ±
- éå»ã«å®Ÿæ–½ã—ãŸé¡ä¼¼èª¿æŸ»: AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆå¸‚å ´èª¿æŸ»ï¼ˆ2023å¹´ï¼‰
- å‚è€ƒã«ã—ãŸã„å ±å‘Šæ›¸: McKinsey AI Report 2024
- äºˆç®—åˆ¶ç´„: å¤–éƒ¨èª¿æŸ»ä¼šç¤¾ã¸ã®å§”è¨—ã¯ä¸å¯`,
                instruction: "ç”ŸæˆAIæŠ€è¡“ã€ç‰¹ã«ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«AIã®å¸‚å ´èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ãŸã„ã€‚æŠ€è¡“å‹•å‘ã€å¸‚å ´è¦æ¨¡ã€ç«¶åˆä»–ç¤¾åˆ†æã‚’å«ã‚€åŒ…æ‹¬çš„ãªèª¿æŸ»ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚ã¾ãšã¯å¿…è¦ãªæƒ…å ±åé›†ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„ã€‚"
            },
            data_analysis: {
                hearing: `# ãƒ‡ãƒ¼ã‚¿åˆ†æãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦ä»¶

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- ç›®çš„: Q4å£²ä¸Šäºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã®æ§‹ç¯‰ã¨ç²¾åº¦æ¤œè¨¼
- ãƒ‡ãƒ¼ã‚¿æœŸé–“: éå»3å¹´é–“ã®æœˆæ¬¡å£²ä¸Šãƒ‡ãƒ¼ã‚¿
- äºˆæ¸¬å¯¾è±¡: ä»Šå››åŠæœŸï¼ˆQ4ï¼‰ã®æœˆæ¬¡å£²ä¸Š

## æŠ€è¡“è¦ä»¶
- **ãƒ‡ãƒ¼ã‚¿å‡¦ç†**: Python/pandasä½¿ç”¨
- **ãƒ¢ãƒ‡ãƒªãƒ³ã‚°**: æ™‚ç³»åˆ—åˆ†æï¼ˆARIMAã€Prophetï¼‰
- **å¯è¦–åŒ–**: matplotlibã€seabornä½¿ç”¨
- **ç²¾åº¦æŒ‡æ¨™**: RMSEã€MAPEã€MAE

## æˆæœç‰©è¦ä»¶
- ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã‚³ãƒ¼ãƒ‰
- æ¢ç´¢çš„ãƒ‡ãƒ¼ã‚¿åˆ†æï¼ˆEDAï¼‰
- ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ãƒ»è©•ä¾¡ã‚³ãƒ¼ãƒ‰  
- äºˆæ¸¬çµæœã®å¯è¦–åŒ–
- æŠ€è¡“ãƒ¬ãƒãƒ¼ãƒˆï¼ˆæ‰‹æ³•èª¬æ˜ãƒ»çµæœè€ƒå¯Ÿï¼‰
- çµŒå–¶å±¤å‘ã‘ã‚µãƒãƒªãƒ¼

## ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
- sales_data.csv: æœˆæ¬¡å£²ä¸Šãƒ‡ãƒ¼ã‚¿
- customer_segments.csv: é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæƒ…å ±
- marketing_spend.csv: ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æŠ•è³‡ãƒ‡ãƒ¼ã‚¿`,
                instruction: "å–¶æ¥­ãƒ‡ãƒ¼ã‚¿ã®æ™‚ç³»åˆ—åˆ†æã‚’è¡Œã„ã€Q4å£²ä¸Šäºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’æ§‹ç¯‰ã—ãŸã„ã€‚ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‹ã‚‰äºˆæ¸¬ã€ãƒ¬ãƒãƒ¼ãƒˆä½œæˆã¾ã§ä¸€è²«ã—ã¦å¯¾å¿œã—ã¦ãã ã•ã„ã€‚ã¾ãšã¯ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ã¨æ¢ç´¢çš„åˆ†æã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„ã€‚"
            },
            project_management: {
                hearing: `# Webã‚µãƒ¼ãƒ“ã‚¹é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦
- ã‚µãƒ¼ãƒ“ã‚¹å: TaskFlowï¼ˆä»®ç§°ï¼‰
- æ¦‚è¦: ãƒãƒ¼ãƒ å‘ã‘ã‚¿ã‚¹ã‚¯ç®¡ç†ãƒ»é€²æ—å¯è¦–åŒ–ã‚µãƒ¼ãƒ“ã‚¹
- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: ä¸­å°ä¼æ¥­ã®é–‹ç™ºãƒãƒ¼ãƒ ï¼ˆ10-50åï¼‰

## ãƒ•ã‚§ãƒ¼ã‚º1è¦ä»¶ï¼ˆä¼ç”»ãƒ»èª¿æŸ»ï¼‰
- å¸‚å ´èª¿æŸ»ï¼ˆç«¶åˆã‚µãƒ¼ãƒ“ã‚¹åˆ†æï¼‰
- æŠ€è¡“é¸å®šèª¿æŸ»ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
- UI/UXãƒªã‚µãƒ¼ãƒ
- ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«æ¤œè¨

## ãƒ•ã‚§ãƒ¼ã‚º2è¦ä»¶ï¼ˆè¨­è¨ˆãƒ»é–‹ç™ºï¼‰
- ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆæ›¸ä½œæˆ
- APIè¨­è¨ˆ
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

## åˆ¶ç´„ãƒ»è¦ä»¶
- é–‹ç™ºæœŸé–“: 6ãƒ¶æœˆ
- ãƒãƒ¼ãƒ è¦æ¨¡: 5åï¼ˆä¼ç”»1åã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼1åã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢3åï¼‰
- äºˆç®—åˆ¶ç´„: ã‚¤ãƒ³ãƒ•ãƒ©ã‚³ã‚¹ãƒˆã‚’æœˆ10ä¸‡å††ä»¥å†…ã«æŠ‘åˆ¶
- æŠ€è¡“åˆ¶ç´„: Reactã€Node.jsã€PostgreSQLä½¿ç”¨`,
                instruction: "æ–°è¦Webã‚µãƒ¼ãƒ“ã‚¹ã€TaskFlowã€ã®é–‹ç™ºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹å§‹ã—ãŸã„ã€‚ã¾ãšã¯ä¼ç”»ãƒ•ã‚§ãƒ¼ã‚ºã‹ã‚‰å§‹ã‚ã¦ã€æ®µéšçš„ã«è¨ˆç”»ã‚’ç«‹ã¦ã¦ãã ã•ã„ã€‚å¸‚å ´èª¿æŸ»ã¨æŠ€è¡“é¸å®šã‹ã‚‰å§‹ã‚ã¦ã‚‚ã‚‰ãˆã¾ã™ã‹ï¼Ÿ"
            }
        };
        
        function loadUseCase() {
            const select = document.getElementById('useCaseSelect');
            const hearingTextarea = document.getElementById('hearingResult');
            const instructionTextarea = document.getElementById('userInstruction');
            
            const selectedCase = select.value;
            if (selectedCase && useCaseData[selectedCase]) {
                hearingTextarea.value = useCaseData[selectedCase].hearing;
                instructionTextarea.value = useCaseData[selectedCase].instruction;
            } else {
                hearingTextarea.value = '';
                instructionTextarea.value = '';
            }
        }
        
        // è‡ªå‹•ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
        let statusUpdateInterval;
        
        function startStatusUpdates() {
            if (statusUpdateInterval) {
                clearInterval(statusUpdateInterval);
            }
            statusUpdateInterval = setInterval(() => {
                if (currentSessionId) {
                    getTaskStatus();
                }
            }, 3000); // 3ç§’ã”ã¨ã«æ›´æ–°
        }
        
        function stopStatusUpdates() {
            if (statusUpdateInterval) {
                clearInterval(statusUpdateInterval);
                statusUpdateInterval = null;
            }
        }
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«åˆ©ç”¨å¯èƒ½ãªã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å–å¾—
        window.addEventListener('load', () => {
            getAvailableAgents();
        });
        
        // ãƒšãƒ¼ã‚¸ã‚’é›¢ã‚Œã‚‹ã¨ãã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°ã‚’åœæ­¢
        window.addEventListener('beforeunload', () => {
            stopStatusUpdates();
        });
    </script>
</body>
</html>